{% extends "layouts/base.njk" %}

{% block content %}
<main class="wiki">
  <div class="container wiki__layout">
    <aside class="wiki__sidebar" aria-label="Article navigation">
      <h2 class="wiki__sidebar-title">Contents</h2>
      <nav>
        <ul>
          {% for section in wiki.sections %}
          <li><a href="#{{ section.id }}">{{ section.title }}</a></li>
          {% endfor %}
        </ul>
      </nav>
    </aside>

    <article class="wiki__content">
      <header class="page-header">
        <p class="eyebrow">Reference</p>
        <h1>Wiki</h1>
        <p>Evergreen, interlinked documentation for the Normal Rooms project.</p>
      </header>

      {% for section in wiki.sections %}
      <section id="{{ section.id }}" class="wiki__section">
        <h2>{{ section.title }}</h2>
        {{ section.content | safe }}
        {% if section.tags.length %}
        <ul class="tag-list">
          {% for tag in section.tags %}
          <li><a class="tag" href="{{ tag.href }}">{{ tag.label }}</a></li>
          {% endfor %}
        </ul>
        {% endif %}
      </section>
      {% endfor %}
    </article>
  </div>
</main>
{% endblock %}
